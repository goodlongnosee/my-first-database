(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5c7a48d7"],{1276:function(t,e,i){"use strict";var a=i("2ba4"),s=i("c65b"),n=i("e330"),c=i("d784"),r=i("44e7"),o=i("825a"),l=i("1d80"),u=i("4840"),h=i("8aa5"),v=i("50c4"),d=i("577e"),f=i("dc4a"),g=i("4dae"),m=i("14c3"),p=i("9263"),_=i("9f7f"),b=i("d039"),y=_.UNSUPPORTED_Y,L=4294967295,x=Math.min,C=[].push,S=n(/./.exec),w=n(C),V=n("".slice),O=!b((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));c("split",(function(t,e,i){var n;return n="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var n=d(l(this)),c=void 0===i?L:i>>>0;if(0===c)return[];if(void 0===t)return[n];if(!r(t))return s(e,n,t,c);var o,u,h,v=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),m=0,_=new RegExp(t.source,f+"g");while(o=s(p,_,n)){if(u=_.lastIndex,u>m&&(w(v,V(n,m,o.index)),o.length>1&&o.index<n.length&&a(C,v,g(o,1)),h=o[0].length,m=u,v.length>=c))break;_.lastIndex===o.index&&_.lastIndex++}return m===n.length?!h&&S(_,"")||w(v,""):w(v,V(n,m)),v.length>c?g(v,0,c):v}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:s(e,this,t,i)}:e,[function(e,i){var a=l(this),c=void 0==e?void 0:f(e,t);return c?s(c,e,a,i):s(n,d(a),e,i)},function(t,a){var s=o(this),c=d(t),r=i(n,s,c,a,n!==e);if(r.done)return r.value;var l=u(s,RegExp),f=s.unicode,g=(s.ignoreCase?"i":"")+(s.multiline?"m":"")+(s.unicode?"u":"")+(y?"g":"y"),p=new l(y?"^(?:"+s.source+")":s,g),_=void 0===a?L:a>>>0;if(0===_)return[];if(0===c.length)return null===m(p,c)?[c]:[];var b=0,C=0,S=[];while(C<c.length){p.lastIndex=y?0:C;var O,k=m(p,y?V(c,C):c);if(null===k||(O=x(v(p.lastIndex+(y?C:0)),c.length))===b)C=h(c,C,f);else{if(w(S,V(c,b,C)),S.length===_)return S;for(var I=1;I<=k.length-1;I++)if(w(S,k[I]),S.length===_)return S;C=b=O}}return w(S,V(c,b)),S}]}),!O,y)},"44e7":function(t,e,i){var a=i("861d"),s=i("c6b6"),n=i("b622"),c=n("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[c])?!!e:"RegExp"==s(t))}},7706:function(t,e,i){},"99af":function(t,e,i){"use strict";var a=i("23e7"),s=i("da84"),n=i("d039"),c=i("e8b5"),r=i("861d"),o=i("7b0b"),l=i("07fa"),u=i("8418"),h=i("65f0"),v=i("1dde"),d=i("b622"),f=i("2d00"),g=d("isConcatSpreadable"),m=9007199254740991,p="Maximum allowed index exceeded",_=s.TypeError,b=f>=51||!n((function(){var t=[];return t[g]=!1,t.concat()[0]!==t})),y=v("concat"),L=function(t){if(!r(t))return!1;var e=t[g];return void 0!==e?!!e:c(t)},x=!b||!y;a({target:"Array",proto:!0,forced:x},{concat:function(t){var e,i,a,s,n,c=o(this),r=h(c,0),v=0;for(e=-1,a=arguments.length;e<a;e++)if(n=-1===e?c:arguments[e],L(n)){if(s=l(n),v+s>m)throw _(p);for(i=0;i<s;i++,v++)i in n&&u(r,v,n[i])}else{if(v>=m)throw _(p);u(r,v++,n)}return r.length=v,r}})},a15b:function(t,e,i){"use strict";var a=i("23e7"),s=i("e330"),n=i("44ad"),c=i("fc6a"),r=i("a640"),o=s([].join),l=n!=Object,u=r("join",",");a({target:"Array",proto:!0,forced:l||!u},{join:function(t){return o(c(this),void 0===t?",":t)}})},a434:function(t,e,i){"use strict";var a=i("23e7"),s=i("da84"),n=i("23cb"),c=i("5926"),r=i("07fa"),o=i("7b0b"),l=i("65f0"),u=i("8418"),h=i("1dde"),v=h("splice"),d=s.TypeError,f=Math.max,g=Math.min,m=9007199254740991,p="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!v},{splice:function(t,e){var i,a,s,h,v,_,b=o(this),y=r(b),L=n(t,y),x=arguments.length;if(0===x?i=a=0:1===x?(i=0,a=y-L):(i=x-2,a=g(f(c(e),0),y-L)),y+i-a>m)throw d(p);for(s=l(b,a),h=0;h<a;h++)v=L+h,v in b&&u(s,h,b[v]);if(s.length=a,i<a){for(h=L;h<y-a;h++)v=h+a,_=h+i,v in b?b[_]=b[v]:delete b[_];for(h=y;h>y-a+i;h--)delete b[h-1]}else if(i>a)for(h=y-a;h>L;h--)v=h+a-1,_=h+i-1,v in b?b[_]=b[v]:delete b[_];for(h=0;h<i;h++)b[h+L]=arguments[h+2];return b.length=y-a+i,s}})},dba4:function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search"},[i("div",{staticClass:"search_header"},[i("div",{staticClass:"button"},[i("button",[i("router-link",{attrs:{to:"/"}},[i("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocGds0.png",alt:""}})])],1)]),t._m(0)]),i("div",{staticClass:"search_form"},[i("div",[i("img",{attrs:{src:"https://s4.ax1x.com/2021/12/08/oRNwM4.png",alt:""}}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchValue,expression:"searchValue"}],attrs:{type:"text",placeholder:"搜电影、搜影院",autofocus:""},domProps:{value:t.searchValue},on:{input:[function(e){e.target.composing||(t.searchValue=e.target.value)},t.mySearch]}}),t.searchValue?i("button",{staticClass:"close",on:{click:t.myEmpty}},[t._v("x")]):t._e(),i("button",{on:{click:t.myEmpty}},[t._v("取消")])])]),t.searchValue?t._e():i("div",{staticClass:"sear_history"},[i("ul",t._l(t.searchList,(function(e){return i("li",{key:e.id},[i("img",{attrs:{src:"https://s4.ax1x.com/2021/12/08/oRUGOH.png",alt:""}}),i("span",{on:{click:function(i){return t.getSearchValue(e.name)}}},[t._v(t._s(e.name))]),i("button",{on:{click:function(i){return t.myDelete(e.id)}}},[t._v("×")])])})),0)]),t.searchValue?t._e():i("div",{staticClass:"search_advice"},[i("div",{staticClass:"advice_hot"},[t._v("热门搜索")]),i("ul",t._l(t.adviceList,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.getSearchValue(e.nm)}}},[i("button",[t._v(t._s(e.nm))])])})),0)]),t.ismovie?i("div",{staticClass:"movie_list"},[i("div",{staticClass:"movie_tit"},[t._v("电影/电视剧/综艺")]),i("ul",t._l(t.movieList,(function(e){return i("li",{key:e.id,on:{click:function(i){return t.getItem(e.id)}}},[i("div",{staticClass:"img_box"},[i("img",{attrs:{src:e.poster,alt:""}})]),i("div",{staticClass:"movie_content"},[i("div",{staticClass:"movie_nm"},[t._v(" "+t._s(e.name)+" ")]),i("div",{staticClass:"movie_cate"},[t._v(t._s(e.catogary))]),i("div",{staticClass:"movie_date"},[t._v(t._s(e.release))]),i("div",{staticClass:"movie_wish"},[e.wish?i("p",{staticClass:"wish"},[i("span",[t._v(t._s(e.wish))]),i("i",[t._v("人想看")])]):t._e(),e.score?i("p",{staticClass:"score"},[i("span",[t._v(t._s(e.score))]),i("i",[t._v("分")])]):t._e(),e.score||e.wish?t._e():i("p",{staticClass:"no"},[t._v("暂无评分")])])])])})),0),i("div",{staticClass:"more_movie"},[t._v("查看全部"+t._s(t.allMovie)+"部影视剧")])]):t._e(),t.ismovie?i("div",{staticClass:"cinema_list"},[i("div",{staticClass:"cinema_tit"},[t._v("影院")]),t._m(1),i("div",{staticClass:"all"},[t._v("查看全部31家电影院")])]):t._e(),t.isLoading?i("div",{staticClass:"loading"},[i("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}})]):t._e()])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"title"},[i("span",[t._v("游娱电影")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",[i("li",[i("div",{staticClass:"cinema_nm"},[t._v("自由人影城(广州无话自由里店)")]),i("div",{staticClass:"cinema_address"},[t._v("花都区新芽街道自由人花园二街3号124铺")]),i("div",{staticClass:"com"},[i("ul",[i("li",[t._v("座")]),i("li",[t._v("改签")]),i("li",[t._v("小吃")])])]),i("div",{staticClass:"price"},[i("span",[t._v("19.8")]),t._v("元起")])]),i("li",[i("div",{staticClass:"cinema_nm"},[t._v("自由人影城(广州无话自由里店)")]),i("div",{staticClass:"cinema_address"},[t._v("花都区新芽街道自由人花园二街3号124铺")]),i("div",{staticClass:"com"},[i("ul",[i("li",[t._v("座")]),i("li",[t._v("改签")]),i("li",[t._v("小吃")])])]),i("div",{staticClass:"price"},[i("span",[t._v("19.8")]),t._v("元起")])])])}],n=i("5530"),c=(i("e9c4"),i("a434"),i("ac1f"),i("1276"),i("a15b"),i("99af"),i("2f62")),r={name:"Search",data:function(){return{searchValue:"",timer:null,t:null,ismovie:!1,movieList:[],cinemaList:[],allMovie:0,allCinema:0,adviceList:[],isLoading:!1}},methods:Object(n["a"])(Object(n["a"])({},Object(c["b"])(["changeSearchList","changeMovieDetail"])),{},{myEmpty:function(){this.searchValue="",this.ismovie=!1,this.movieList=[]},mySearch:function(){var t=this;null!==this.t&&clearTimeout(this.t),this.t=setTimeout((function(){if(0!=t.searchValue.length){var e=(new Date).getTime(),i={name:t.searchValue,id:e},a=JSON.parse(localStorage.getItem("searchList")),s=[];if(null==a||""==a||0==a.length)return a=[],a.push(i),t.changeSearchList(a),void localStorage.setItem("searchList",JSON.stringify(t.searchList));if(a.length>0){a.unshift(i);for(var n=0;n<a.length;n++){if(n>=3)break;s.push(a[n])}t.changeSearchList(s),localStorage.setItem("searchList",JSON.stringify(t.searchList))}}}),3e3),null!==this.timer&&clearTimeout(this.timer),this.timer=setTimeout((function(){t.searchValue.length>0&&(t.isLoading=!0,t.axios.get("https://apis.netstart.cn/maoyan/search/movies?keyword=".concat(t.searchValue,"&ci=1")).then((function(e){if(e.data){for(var i=0;i<3;i++)t.movieList.push(e.data[i]);t.ismovie=!0,t.allMovie=e.data.length,t.isLoading=!1}})).catch((function(t){console.log("获取失败",t)})))}),300),0==this.searchValue.length&&(this.cinemaList=!1,this.ismovie=!1,this.movieList=[])},myDelete:function(t){for(var e=JSON.parse(localStorage.getItem("searchList")),i=0;i<e.length;i++)e[i].id==t&&e.splice(i,1);this.changeSearchList(e),localStorage.setItem("searchList",JSON.stringify(this.searchList))},addHistory:function(){var t=this;this.t||clearTimeout(this.t),0!=this.searchValue.length?this.t=setTimeout((function(){var e={name:t.searchValue,id:(new Date).getDate()},i=JSON.parse(localStorage.getItem("searchList")),a=[];if(null==i||""==i||0==i.length)return i=[],i.push(e),t.changeSearchList(i),void localStorage.setItem("searchList",JSON.stringify(t.searchList));if(0!=i.length){i.unshift(e);for(var s=0;s<3;s++)a.push(i[s]);t.changeSearchList(a),localStorage.setItem("searchList",JSON.stringify(t.searchList))}}),3e3):clearTimeout(this.t)},getSearchValue:function(t){t.length>3?(t=t.split(""),this.searchValue=t.splice(0,3).join("")):this.searchValue=t,this.mySearch()},getItem:function(t){var e=this;this.isLoading=!0,this.axios.get("https://apis.netstart.cn/maoyan/movie/detail?movieid=".concat(t)).then((function(t){e.changeMovieDetail(t.data),e.$router.push({path:"/videoDetail"}),e.isLoading=!1})).catch((function(t){console.log(t,"获取失败")}))}}),computed:Object(n["a"])({},Object(c["c"])(["searchList"])),mounted:function(){var t=this,e=JSON.parse(localStorage.getItem("searchList"));if(null!=e){for(var i=[],a=0;a<e.length;a++)null===e[a]&&void 0==e[a]||i.unshift(e[a]);this.changeSearchList(i)}this.axios.get("https://apis.netstart.cn/maoyan/search/suggest?kw=电影&cityId=1").then((function(e){e.data.success&&(t.adviceList=e.data.movies.list)})).catch((function(t){console.log("获取失败",t)})),this.axios.get("https://apis.netstart.cn/maoyan/search/suggest?kw=影&cityId=1").then((function(e){e.data.success&&(t.adviceList=t.adviceList.concat(e.data.movies.list))})).catch((function(t){console.log("获取失败",t)}))}},o=r,l=(i("e66e"),i("2877")),u=Object(l["a"])(o,a,s,!1,null,"6b192ed3",null);e["default"]=u.exports},e66e:function(t,e,i){"use strict";i("7706")},e9c4:function(t,e,i){var a=i("23e7"),s=i("da84"),n=i("d066"),c=i("2ba4"),r=i("e330"),o=i("d039"),l=s.Array,u=n("JSON","stringify"),h=r(/./.exec),v=r("".charAt),d=r("".charCodeAt),f=r("".replace),g=r(1..toString),m=/[\uD800-\uDFFF]/g,p=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,b=function(t,e,i){var a=v(i,e-1),s=v(i,e+1);return h(p,t)&&!h(_,s)||h(_,t)&&!h(p,a)?"\\u"+g(d(t,0),16):t},y=o((function(){return'"\\udf06\\ud834"'!==u("\udf06\ud834")||'"\\udead"'!==u("\udead")}));u&&a({target:"JSON",stat:!0,forced:y},{stringify:function(t,e,i){for(var a=0,s=arguments.length,n=l(s);a<s;a++)n[a]=arguments[a];var r=c(u,null,n);return"string"==typeof r?f(r,m,b):r}})}}]);
//# sourceMappingURL=chunk-5c7a48d7.bf88aec2.js.map