{"version":3,"sources":["webpack:///./src/components/goodVideo.vue?1a69","webpack:///./src/pages/hotvideo.vue?4e88","webpack:///./src/components/goodVideo.vue?bb0a","webpack:///src/components/goodVideo.vue","webpack:///./src/components/goodVideo.vue?6939","webpack:///./src/components/goodVideo.vue","webpack:///./src/pages/videoList.vue?61a4","webpack:///src/pages/videoList.vue","webpack:///./src/pages/videoList.vue?20ba","webpack:///./src/pages/videoList.vue","webpack:///src/pages/hotvideo.vue","webpack:///./src/pages/hotvideo.vue?1fd1","webpack:///./src/pages/hotvideo.vue","webpack:///./src/pages/videoList.vue?1e3b","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","attrs","isLoading","goodList","fixLoading","videoList","staticRenderFns","_e","_v","_s","title","_l","item","key","movieId","on","$event","getItem","poster","score","name","props","type","Object","data","jump","methods","axios","component","id","_m","nm","sc","wish","star","showInfo","style","showStateButton","stopPropagation","BuyTicket","content","Array","Boolean","jumpLoading","$router","push","computed","mounted","userInfo","changeUserInfo","components","GoodVideo","VideoList","conHeight","num2","num3","moreArr","throt","myThrot","clearTimeout","setTimeout","bottomRef","scrollTop","windowHeight","listHeight","length","arr","beforeRouteEnter","next","to","window","addEventListener","vm","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error"],"mappings":"kHAAA,W,oECAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,IAAI,MAAMC,YAAY,YAAY,CAACH,EAAG,aAAa,CAACI,MAAM,CAAC,UAAYR,EAAIS,UAAU,SAAWT,EAAIU,YAAYN,EAAG,aAAa,CAACI,MAAM,CAAC,WAAaR,EAAIW,WAAW,UAAYX,EAAIS,UAAU,UAAYT,EAAIY,cAAc,IAClUC,EAAkB,GCDlB,G,8BAAS,WAAa,IAAIb,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,YAAY,CAAGP,EAAIS,UAA8HT,EAAIc,KAAvHV,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,4CAA4C,IAAM,QAAiBJ,EAAG,KAAK,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGhB,EAAIU,SAASO,UAAWjB,EAAa,UAAEI,EAAG,KAAKJ,EAAIkB,GAAIlB,EAAIU,SAAkB,WAAE,SAASS,GAAM,OAAOf,EAAG,KAAK,CAACgB,IAAID,EAAKE,QAAQC,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIwB,QAAQL,EAAKE,YAAY,CAACjB,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAMW,EAAKM,OAAO,IAAM,MAAMrB,EAAG,IAAI,CAACJ,EAAIe,GAAG,QAAQf,EAAIgB,GAAGG,EAAKO,YAAYtB,EAAG,MAAM,CAACG,YAAY,cAAc,CAACP,EAAIe,GAAG,IAAIf,EAAIgB,GAAGG,EAAKQ,MAAM,YAAW,GAAG3B,EAAIc,KAAMd,EAAQ,KAAEI,EAAG,MAAM,CAACG,YAAY,eAAe,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,4CAA4C,IAAM,QAAQR,EAAIc,SACn0B,EAAkB,G,wBC2BtB,GACEa,KAAM,YACNC,MAAO,CACLlB,SAAU,CACRmB,KAAMC,QAERrB,UAAJ,CACMoB,KAAN,UAGEE,KAVF,WAWI,MAAO,CACLC,MAAN,IAGEC,QAAS,OAAX,OAAW,CAAX,kBACA,uCADA,IAEIT,QAFJ,SAEA,cAEMvB,KAAK+B,MAAO,EACZ/B,KAAKiC,MACX,IADA,+DACA,IACA,kBAEQ,EAAR,0BAEQ,EAAR,cAAU,KAAV,iBACQ,EAAR,WAEA,mBACQ,QAAR,mBC1DmV,I,wBCQ/UC,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,MAIa,EAAAA,E,QCnBX,EAAS,WAAa,IAAInC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,aAAa,CAAEP,EAAe,YAAEI,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,4CAA4C,IAAM,QAAQR,EAAIc,KAAOd,EAAIS,UAA8HT,EAAIc,KAAvHV,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,4CAA4C,IAAM,QAAkBR,EAAa,UAAEI,EAAG,KAAKJ,EAAIkB,GAAIlB,EAAa,WAAE,SAASmB,GAAM,OAAOf,EAAG,KAAK,CAACgB,IAAID,EAAKiB,GAAGd,GAAG,CAAC,MAAQ,SAASC,GAAQ,OAAOvB,EAAIwB,QAAQL,EAAKiB,OAAO,CAACpC,EAAIqC,GAAG,GAAE,GAAMjC,EAAG,MAAM,CAACG,YAAY,aAAa,CAACH,EAAG,MAAM,CAACG,YAAY,eAAe,CAACP,EAAIe,GAAGf,EAAIgB,GAAGG,EAAKmB,OAAQnB,EAAO,GAAEf,EAAG,MAAM,CAACG,YAAY,SAAS,CAACP,EAAIe,GAAG,SAASX,EAAG,OAAO,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGG,EAAKoB,SAASvC,EAAIc,KAAOK,EAAKoB,GAAkDvC,EAAIc,KAAlDV,EAAG,MAAM,CAACG,YAAY,MAAM,CAACP,EAAIe,GAAG,UAA+B,GAAXI,EAAKoB,GAASnC,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACH,EAAG,OAAO,CAACJ,EAAIe,GAAGf,EAAIgB,GAAGG,EAAKqB,SAASxC,EAAIe,GAAG,WAAWf,EAAIc,KAAMK,EAAS,KAAEf,EAAG,MAAM,CAACG,YAAY,QAAQ,CAACP,EAAIe,GAAG,MAAMf,EAAIgB,GAAGG,EAAKsB,SAASzC,EAAIc,KAAMK,EAAa,SAAEf,EAAG,MAAM,CAACG,YAAY,YAAY,CAACP,EAAIe,GAAGf,EAAIgB,GAAGG,EAAKuB,aAAa1C,EAAIc,KAAKV,EAAG,MAAM,CAACG,YAAY,UAAU,CAACH,EAAG,SAAS,CAACuC,MAAQ,0BAA6BxB,EAAKyB,gBAA2B,YAAI,eAAkBzB,EAAKyB,gBAAqB,MAAI,eAAiBtB,GAAG,CAAC,MAAQ,SAASC,GAAiC,OAAzBA,EAAOsB,kBAAyB7C,EAAI8C,UAAU3B,EAAKiB,OAAO,CAACpC,EAAIe,GAAG,IAAIf,EAAIgB,GAAGG,EAAKyB,gBAAgBG,SAAS,gBAAe,GAAG/C,EAAIc,KAAMd,EAAc,WAAEI,EAAG,MAAM,CAACG,YAAY,cAAc,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,4CAA4C,IAAM,QAAQR,EAAIc,QACtlD,EAAkB,CAAC,WAAa,IAAId,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,WAAW,CAACH,EAAG,MAAM,CAACI,MAAM,CAAC,IAAM,mEAAmE,IAAM,UC0C5O,GACEmB,KAAM,YACNC,MAAO,CACLhB,UAAWoC,MACXvC,UAAWwC,QACXtC,WAAYsC,SAEdlB,KAPF,WAQI,MAAO,CACLmB,aAAa,IAGjBjB,QAAS,OAAX,OAAW,CAAX,kBACA,6FADA,IAEIa,UAFJ,SAEA,cACM7C,KAAKiC,MACX,IADA,8DACA,IACA,kBAEQ,EAAR,sCAEA,mBACQ,QAAR,UAEA,WACA,IADA,iEACA,EADA,eAEA,kBAGQ,EAAR,uCAEA,mBACQ,QAAR,iBAEMjC,KAAKkD,QAAQC,KAAK,CAAxB,qBAEI5B,QAxBJ,SAwBA,cACMvB,KAAKiD,aAAc,EACnBjD,KAAKiC,MACX,IADA,+DACA,IACA,kBACQ,EAAR,0BAEQ,EAAR,cAAU,KAAV,iBACQ,EAAR,kBAEA,mBACQ,QAAR,kBAKEmB,SAAU,OAAZ,OAAY,CAAZ,GACA,8BAEEC,QAvDF,WAwDI,IAAJ,mCACQC,GACFtD,KAAKuD,eAAeD,KCrGyT,ICQ/U,G,UAAY,eACd,EACA,EACA,GACA,EACA,KACA,WACA,OAIa,I,QCLf,GACE5B,KAAM,WACN8B,WAAY,CACVC,UAAJ,EACIC,UAAJ,GAEE5B,KANF,WAOI,MAAO,CACLrB,SAAU,GACVE,UAAW,GACXgD,UAAW,EACXC,KAAM,EACNC,KAAM,EACNC,QAAS,GACTtD,WAAW,EACXE,YAAY,EACZqD,MAAO,OAGX/B,QAAS,CACPgC,QADJ,WACA,WACyB,OAAfhE,KAAK+D,OACPE,aAAajE,KAAK+D,OAEpB/D,KAAK+D,MAAQG,YAAW,WACtB,EAAR,cACA,MAEIC,UATJ,SASA,cACA,iBAEA,qBAEA,6BAIM,GAAIC,EAAYC,GAAgBC,EAAY,CAE1CtE,KAAK4D,KAAO5D,KAAKW,UAAU4D,OAE3B,IADA,IAAR,KACA,+BAGU,GAFAvE,KAAK4D,OACLY,EAAIrB,KAAKnD,KAAK8D,QAAQ9D,KAAK4D,OACvB5D,KAAK4D,KAAO5D,KAAK8D,QAAQS,OAC3B,OAEF,GAAIvE,KAAK4D,MAAoB,GAAZ5D,KAAK6D,KAqBpB,OApBA7D,KAAK4D,KAAmB,GAAZ5D,KAAK6D,KAIjB7D,KAAK6D,MAAQ,EAEb7D,KAAKU,YAAa,OAClBV,KAAKiC,MACjB,IADA,wEACA,WACA,kBAGc,EAAd,4CAEc,EAAd,iBAEA,mBACc,QAAd,mBASEoB,QA1EF,WA0EA,WACIrD,KAAKiC,MACT,4DACA,kBACM,EAAN,gBACM,EAAN,gBAGA,mBACM,QAAN,YACM,EAAN,gBAEIjC,KAAKiC,MACT,6DACA,kBAGM,EAAN,2BAEM,EAAN,2BAEA,mBACM,QAAN,gBAGEwC,iBAnGF,SAmGA,OAEIC,GAAK,SAAT,GACqB,YAAXC,EAAGjD,MACLkD,OAAOC,iBAAiB,SAAUC,EAAGd,cCrHqS,ICO9U,EAAY,eACd,EACAlE,EACAc,GACA,EACA,KACA,KACA,MAIa,e,kEClBf,W,qBCAA,IAAImE,EAAc,EAAQ,QACtBC,EAAuB,EAAQ,QAA8BC,OAC7DC,EAAc,EAAQ,QACtBC,EAAiB,EAAQ,QAAuCC,EAEhEC,EAAoBC,SAASC,UAC7BC,EAAmBN,EAAYG,EAAkBI,UACjDC,EAAS,mEACTC,EAAaT,EAAYQ,EAAOE,MAChCC,EAAO,OAIPd,IAAgBC,GAClBG,EAAeE,EAAmBQ,EAAM,CACtCC,cAAc,EACdC,IAAK,WACH,IACE,OAAOJ,EAAWD,EAAQF,EAAiBxF,OAAO,GAClD,MAAOgG,GACP,MAAO","file":"js/chunk-350bac74.6cac6067.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodVideo.vue?vue&type=style&index=0&id=e0e245de&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"con\",staticClass:\"hotvideo\"},[_c('good-video',{attrs:{\"isLoading\":_vm.isLoading,\"goodList\":_vm.goodList}}),_c('video-list',{attrs:{\"fixLoading\":_vm.fixLoading,\"isLoading\":_vm.isLoading,\"videoList\":_vm.videoList}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"goodList\"},[(!_vm.isLoading)?_c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/oc9Y8A.gif\",\"alt\":\"\"}})]):_vm._e(),_c('h3',[_vm._v(_vm._s(_vm.goodList.title))]),(_vm.isLoading)?_c('ul',_vm._l((_vm.goodList.movieList),function(item){return _c('li',{key:item.movieId,on:{\"click\":function($event){return _vm.getItem(item.movieId)}}},[_c('div',{staticClass:\"img_box\"},[_c('img',{attrs:{\"src\":item.poster,\"alt\":\"\"}}),_c('i',[_vm._v(\"观众评分 \"+_vm._s(item.score))])]),_c('div',{staticClass:\"video_name\"},[_vm._v(\" \"+_vm._s(item.name)+\" \")])])}),0):_vm._e(),(_vm.jump)?_c('div',{staticClass:\"loading_img\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\",\"alt\":\"\"}})]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <nav class=\"goodList\">\r\n    <div v-if=\"!isLoading\" class=\"loading\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/oc9Y8A.gif\" alt=\"\">\r\n    </div>\r\n    <h3>{{ goodList.title }}</h3>\r\n    <ul v-if=\"isLoading\">\r\n      <li\r\n        @click=\"getItem(item.movieId)\"\r\n        v-for=\"item in goodList.movieList\"\r\n        :key=\"item.movieId\"\r\n      >\r\n        <div class=\"img_box\">\r\n          <img :src=\"item.poster\" alt=\"\" />\r\n          <i>观众评分 {{ item.score }}</i>\r\n        </div>\r\n        <div class=\"video_name\">\r\n          {{ item.name }}\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div v-if=\"jump\" class=\"loading_img\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\" alt=\"\">\r\n    </div>\r\n  </nav>\r\n</template>\r\n<script>\r\nimport { mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"GoodVideo\",\r\n  props: {\r\n    goodList: {\r\n      type: Object,\r\n    },\r\n    isLoading:{\r\n      type:Boolean\r\n    }\r\n  },\r\n  data(){\r\n    return {\r\n      jump:false\r\n    }\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"changeMovieDetail\"]),\r\n    getItem(valueId) {\r\n      // console.log(valueId);\r\n      this.jump = true;\r\n      this.axios\r\n        .get(`https://apis.netstart.cn/maoyan/movie/detail?movieid=${valueId}`)\r\n        .then((res) => {\r\n          // console.log(res.data)\r\n          this.changeMovieDetail(res.data);\r\n\r\n          this.$router.push({ path: \"/videoDetail\" });\r\n          this.jump = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"获取失败\");\r\n        });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.goodList {\r\n  width: 100%;\r\n  background-color: #fff;\r\n  position: relative;\r\n  .loading {\r\n    width: 100%;\r\n    text-align: center;\r\n    img {\r\n      width: 200px;\r\n    }\r\n  }\r\n  h3 {\r\n    font-size: 15px;\r\n    padding: 10px 12px;\r\n    color: #4d4c4c;\r\n  }\r\n  ul {\r\n    width: 100%;\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    flex-wrap: nowrap;\r\n    overflow: scroll;\r\n    padding: 0 12px;\r\n    box-sizing: border-box;\r\n    li {\r\n      flex-shrink: 0;\r\n      width: 100px;\r\n      margin-right: 10px;\r\n      height: 190px;\r\n      .img_box {\r\n        width: 100%;\r\n        position: relative;\r\n        img {\r\n          display: block;\r\n          width: 100px;\r\n          height: 130px;\r\n          box-shadow: 0 0px 5px 2px #000 inset;\r\n        }\r\n        i {\r\n          display: block;\r\n          width: 100%;\r\n          height: 20px;\r\n          color: darkorange;\r\n          font-weight: bold;\r\n          font-size: 12px;\r\n          position: absolute;\r\n          bottom: 5px;\r\n          left: 0;\r\n          background-color: rgba(0, 0, 0, 0.1);\r\n          padding-left: 5px;\r\n          box-sizing: border-box;\r\n        }\r\n      }\r\n      .video_name {\r\n        width: 100%;\r\n        height: 30px;\r\n        margin: 5px 0;\r\n        font-size: 15px;\r\n        font-weight: bold;\r\n        text-overflow: ellipsis;\r\n        overflow: hidden;\r\n        white-space: nowrap;\r\n      }\r\n    }\r\n  }\r\n  .loading_img {\r\n    width: 40px;\r\n    position: absolute;\r\n    top: 20px;\r\n    left: 50%;\r\n    margin-left: -20px;\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodVideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./goodVideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./goodVideo.vue?vue&type=template&id=e0e245de&scoped=true&\"\nimport script from \"./goodVideo.vue?vue&type=script&lang=js&\"\nexport * from \"./goodVideo.vue?vue&type=script&lang=js&\"\nimport style0 from \"./goodVideo.vue?vue&type=style&index=0&id=e0e245de&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e0e245de\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('nav',{staticClass:\"videoList\"},[(_vm.jumpLoading)?_c('div',{staticClass:\"jump\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\",\"alt\":\"\"}})]):_vm._e(),(!_vm.isLoading)?_c('div',{staticClass:\"loading\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/oc9Y8A.gif\",\"alt\":\"\"}})]):_vm._e(),(_vm.isLoading)?_c('ul',_vm._l((_vm.videoList),function(item){return _c('li',{key:item.id,on:{\"click\":function($event){return _vm.getItem(item.id)}}},[_vm._m(0,true),_c('div',{staticClass:\"video_msg\"},[_c('div',{staticClass:\"video_title\"},[_vm._v(_vm._s(item.nm))]),(item.sc)?_c('div',{staticClass:\"scode\"},[_vm._v(\" 观众评 \"),_c('span',[_vm._v(_vm._s(item.sc))])]):_vm._e(),(!item.sc)?_c('div',{staticClass:\"no\"},[_vm._v(\"暂无评分\")]):_vm._e(),(item.sc == 0)?_c('div',{staticClass:\"wish\"},[_c('span',[_vm._v(_vm._s(item.wish))]),_vm._v(\" 人想看 \")]):_vm._e(),(item.star)?_c('div',{staticClass:\"star\"},[_vm._v(\"主演:\"+_vm._s(item.star))]):_vm._e(),(item.showInfo)?_c('div',{staticClass:\"showinfo\"},[_vm._v(_vm._s(item.showInfo))]):_vm._e(),_c('div',{staticClass:\"button\"},[_c('button',{style:((\"box-shadow:0 0 2px 2px \" + (item.showStateButton.shadowColor) + \";background:\" + (item.showStateButton.color) + \";color:white\")),on:{\"click\":function($event){$event.stopPropagation();return _vm.BuyTicket(item.id)}}},[_vm._v(\" \"+_vm._s(item.showStateButton.content)+\" \")])])])])}),0):_vm._e(),(_vm.fixLoading)?_c('div',{staticClass:\"fixLoading\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\",\"alt\":\"\"}})]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"img_box\"},[_c('img',{attrs:{\"src\":\"https://img0.baidu.com/it/u=3347450064,1264909238&fm=26&fmt=auto\",\"alt\":\"\"}})])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <nav class=\"videoList\">\r\n    <div v-if=\"jumpLoading\" class=\"jump\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\" alt=\"\" />\r\n    </div>\r\n    <div v-if=\"!isLoading\" class=\"loading\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/oc9Y8A.gif\" alt=\"\" />\r\n    </div>\r\n    <ul v-if=\"isLoading\">\r\n      <li @click=\"getItem(item.id)\" v-for=\"item in videoList\" :key=\"item.id\">\r\n        <div class=\"img_box\">\r\n          <!-- <img :src=\"item.img\" alt=\"\" /> -->\r\n          <img src=\"https://img0.baidu.com/it/u=3347450064,1264909238&fm=26&fmt=auto\" alt=\"\" />\r\n        </div>\r\n        <div class=\"video_msg\">\r\n          <div class=\"video_title\">{{ item.nm }}</div>\r\n          <div v-if=\"item.sc\" class=\"scode\">\r\n            观众评 <span>{{ item.sc }}</span>\r\n          </div>\r\n          <div v-if=\"!item.sc\" class=\"no\">暂无评分</div>\r\n          <div v-if=\"item.sc == 0\" class=\"wish\">\r\n            <span>{{ item.wish }}</span> 人想看\r\n          </div>\r\n          <div v-if=\"item.star\" class=\"star\">主演:{{ item.star }}</div>\r\n          <div v-if=\"item.showInfo\" class=\"showinfo\">{{ item.showInfo }}</div>\r\n          <div class=\"button\">\r\n            <button\r\n              @click.stop=\"BuyTicket(item.id)\"\r\n              :style=\"`box-shadow:0 0 2px 2px ${item.showStateButton.shadowColor};background:${item.showStateButton.color};color:white`\"\r\n            >\r\n              {{ item.showStateButton.content }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </li>\r\n    </ul>\r\n    <div v-if=\"fixLoading\" class=\"fixLoading\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\" alt=\"\" />\r\n    </div>\r\n  </nav>\r\n</template>\r\n<script>\r\nimport { mapState, mapMutations } from \"vuex\";\r\nexport default {\r\n  name: \"videoList\",\r\n  props: {\r\n    videoList: Array,\r\n    isLoading: Boolean,\r\n    fixLoading: Boolean,\r\n  },\r\n  data() {\r\n    return {\r\n      jumpLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    ...mapMutations([\"changeMovieDetail\", \"changeUserInfo\", \"changeBuyTicket\",\"changeTicketDate\"]),\r\n    BuyTicket(videoId) {\r\n      this.axios\r\n        .get(`https://apis.netstart.cn/maoyan/movie/intro?movieid=${videoId}`)\r\n        .then((res) => {\r\n          // console.log(res.data.data.movie)\r\n          this.changeBuyTicket(res.data.data.movie);\r\n        })\r\n        .catch((err) => {\r\n          console.log(err);\r\n        }),\r\n        this.axios\r\n          .get(`https://apis.netstart.cn/maoyan/movie/showdays?movieId=${videoId}&cityId=20`)\r\n          .then((res) => {\r\n            // this.cinemaTime = res.data;\r\n            // console.log(res.data.data.dates)\r\n            this.changeTicketDate(res.data.data.dates)\r\n          })\r\n          .catch((err) => {\r\n            console.log(\"获取失败\", err);\r\n          });\r\n      this.$router.push({ path: \"/BuyTicket\" });\r\n    },\r\n    getItem(videoId) {\r\n      this.jumpLoading = true;\r\n      this.axios\r\n        .get(`https://apis.netstart.cn/maoyan/movie/detail?movieid=${videoId}`)\r\n        .then((res) => {\r\n          this.changeMovieDetail(res.data);\r\n\r\n          this.$router.push({ path: \"/videoDetail\" });\r\n          this.jumpLoading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"获取失败\");\r\n        });\r\n      // console.log(videoId)\r\n    },\r\n  },\r\n  computed: {\r\n    ...mapState([\"userInfo\"]),\r\n  },\r\n  mounted() {\r\n    let userInfo = localStorage.getItem(\"userInfo\");\r\n    if (userInfo) {\r\n      this.changeUserInfo(userInfo);\r\n    }\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n.videoList {\r\n  position: relative;\r\n  top: -20px;\r\n  left: 0;\r\n  z-index: 0;\r\n  background-color: #fff;\r\n  border-top: 12px solid #f0f0f0;\r\n  padding-bottom: 30px;\r\n  .jump {\r\n    width: 30px;\r\n    height: 30px;\r\n    position: fixed;\r\n    top: 50%;\r\n    left: 50%;\r\n    margin-left: -15px;\r\n    margin-top: -15px;\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n  .loading {\r\n    width: 100%;\r\n    text-align: center;\r\n    img {\r\n      width: 200px;\r\n    }\r\n  }\r\n  ul {\r\n    width: 100%;\r\n    li {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      padding: 10px 12px;\r\n      box-sizing: border-box;\r\n      border-bottom: 1px solid #ccc;\r\n      .img_box {\r\n        width: 90px;\r\n        height: 110px;\r\n        box-sizing: border-box;\r\n        margin-right: 10px;\r\n        border: 1px solid #ccc;\r\n        img {\r\n          width: 100%;\r\n          height: 110px;\r\n        }\r\n      }\r\n      .video_msg {\r\n        flex-basis: 80%;\r\n        height: 110px;\r\n        font-size: 14px;\r\n        position: relative;\r\n        box-sizing: border-box;\r\n        overflow: hidden;\r\n        .video_title {\r\n          font-size: 19px;\r\n          font-weight: bold;\r\n        }\r\n        .scode {\r\n          margin: 7px 0;\r\n          span {\r\n            color: darkorange;\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n          }\r\n        }\r\n        .wish {\r\n          span {\r\n            font-size: 16px;\r\n            font-weight: bold;\r\n            color: darkorange;\r\n          }\r\n        }\r\n        .star {\r\n          margin: 0 0 7px 0;\r\n          width: 70%;\r\n          text-overflow: ellipsis;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n        }\r\n        .button {\r\n          position: absolute;\r\n          right: 0;\r\n          top: 50%;\r\n          margin-top: -15px;\r\n          z-index: 100;\r\n          button {\r\n            border-radius: 20px;\r\n            font-size: 15px;\r\n            padding: 4px 15px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .fixLoading {\r\n    width: 40px;\r\n    height: 40px;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    position: fixed;\r\n    bottom: 80px;\r\n    left: 50%;\r\n    margin-left: -20px;\r\n    box-shadow: 0 0 10px 5px #fff;\r\n    img {\r\n      width: 40px;\r\n      position: absolute;\r\n      left: 0;\r\n      top: 0;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./videoList.vue?vue&type=template&id=8c2ff6ac&scoped=true&\"\nimport script from \"./videoList.vue?vue&type=script&lang=js&\"\nexport * from \"./videoList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./videoList.vue?vue&type=style&index=0&id=8c2ff6ac&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"8c2ff6ac\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div ref=\"con\" class=\"hotvideo\">\r\n    <good-video :isLoading=\"isLoading\" :goodList=\"goodList\"></good-video>\r\n    <video-list\r\n      :fixLoading=\"fixLoading\"\r\n      :isLoading=\"isLoading\"\r\n      :videoList=\"videoList\"\r\n    ></video-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport GoodVideo from \"@/components/goodVideo.vue\";\r\nimport VideoList from \"@/pages/videoList.vue\";\r\n\r\nexport default {\r\n  name: \"hotVideo\",\r\n  components: {\r\n    GoodVideo,\r\n    VideoList,\r\n  },\r\n  data() {\r\n    return {\r\n      goodList: {},\r\n      videoList: [],\r\n      conHeight: 0,\r\n      num2: 0,\r\n      num3: 2,\r\n      moreArr: [],\r\n      isLoading: false,\r\n      fixLoading: false,\r\n      throt: null,\r\n    };\r\n  },\r\n  methods: {\r\n    myThrot() {\r\n      if (this.throt !== null) {\r\n        clearTimeout(this.throt);\r\n      }\r\n      this.throt = setTimeout(() => {\r\n        this.bottomRef();\r\n      }, 500);\r\n    },\r\n    bottomRef(e) {\r\n      let scrollTop = window.scrollY;\r\n      //   let windowHeight = window.innerHeight - 88;\r\n      let windowHeight = window.innerHeight;\r\n      // let listHeight = this.$refs.con.clientHeight;\r\n      let listHeight = document.body.clientHeight;\r\n      // console.log(this.$refs.con.clientHeight);\r\n      // console.log(scrollTop + windowHeight - (88))\r\n      // console.log(scrollTop+windowHeight,listHeight)\r\n      if (scrollTop + windowHeight >= listHeight) {\r\n        // console.log(1)\r\n        this.num2 = this.videoList.length;\r\n        let arr = [];\r\n        for (let i = 0; i < this.moreArr.length; i++) {\r\n          this.num2++;\r\n          arr.push(this.moreArr[this.num2]);\r\n          if (this.num2 > this.moreArr.length) {\r\n            return;\r\n          }\r\n          if (this.num2 >= this.num3 * 10) {\r\n            this.num2 = this.num3 * 10;\r\n            // console.log(this.num3,this.num2,num)\r\n            // console.log(arr.join());\r\n\r\n            this.num3 += 1;\r\n\r\n            this.fixLoading = true;\r\n            this.axios\r\n              .get(`https://apis.netstart.cn/maoyan/index/moreComingList?movieIds=${arr.join()}`)\r\n              .then((res) => {\r\n                // console.log(res.data);\r\n\r\n                this.videoList = this.videoList.concat(res.data.coming);\r\n\r\n                this.fixLoading = false;\r\n              })\r\n              .catch((err) => {\r\n                console.log(\"获取失败\");\r\n              });\r\n\r\n            return;\r\n          }\r\n        }\r\n      }\r\n    },\r\n  },\r\n  mounted() {\r\n    this.axios\r\n      .get(\"https://apis.netstart.cn/maoyan/index/topRatedMovies\")\r\n      .then((res) => {\r\n        this.goodList = res.data;\r\n        this.isLoading = true;\r\n        // console.log(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"获取失败\");\r\n        this.isLoading = false;\r\n      });\r\n    this.axios\r\n      .get(\"https://apis.netstart.cn/maoyan/index/movieOnInfoList\")\r\n      .then((res) => {\r\n        // console.log(res.data);\r\n        // console.log(res.data.movieIds)\r\n        this.videoList = res.data.movieList;\r\n        // console.log(this.videoList)\r\n        this.moreArr = res.data.movieIds;\r\n      })\r\n      .catch((err) => {\r\n        console.log(\"获取失败\");\r\n      });\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    // console.log(to.name)\r\n    next((vm) => {\r\n      if (to.name == \"HotVideo\") {\r\n        window.addEventListener(\"scroll\", vm.myThrot);\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hotvideo.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./hotvideo.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./hotvideo.vue?vue&type=template&id=4febeaa8&\"\nimport script from \"./hotvideo.vue?vue&type=script&lang=js&\"\nexport * from \"./hotvideo.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./videoList.vue?vue&type=style&index=0&id=8c2ff6ac&lang=less&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}