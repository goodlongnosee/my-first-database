(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6273f7d5"],{"061f":function(t,i,e){"use strict";e.r(i);var n=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{ref:"com",staticClass:"daiying"},[t.loading?e("img",{staticClass:"loading",attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}}):t._e(),e("hope-video",{attrs:{firstLoading:t.firstLoading,hopeList:t.hopeList},on:{"my-click":t.myRev}}),e("more-hope",{attrs:{isLoading:t.isLoading,moreList:t.moreList},on:{"my-click":t.myRev}})],1)},o=[],s=(e("a15b"),e("99af"),e("b0c0"),function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hope_box"},[t.firstLoading?e("div",{staticClass:"firstLoading"},[e("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}})]):t._e(),t.firstLoading?t._e():e("div",{staticClass:"hope_tit"},[t._v("近期最受期待")]),e("nav",{staticClass:"hope_list"},[e("ul",t._l(t.hopeList,(function(i,n){return e("li",{key:i.id,on:{click:function(e){return t.getItem(i.id)}}},[e("div",{staticClass:"img_box"},[e("img",{attrs:{src:i.img.replace(/\/w\.h/,""),alt:""}}),e("p",[t._v(t._s(i.wish)+"人想看")])]),e("div",{staticClass:"hope_msg"},[e("div",{staticClass:"name"},[t._v(t._s(i.nm))]),e("div",{staticClass:"date"},[t._v(t._s(t.dateList[n]))])])])})),0)])])}),a=[],c=e("5530"),r=(e("d3b7"),e("159b"),e("ac1f"),e("1276"),e("2f62")),l={name:"HopeVideo",props:{hopeList:{type:Array},firstLoading:Boolean},data:function(){return{dateList:[]}},methods:Object(c["a"])(Object(c["a"])({},Object(r["b"])(["changeMovieDetail"])),{},{getItem:function(t){var i=this;this.$emit("my-click",!0),this.axios.get("https://apis.netstart.cn/maoyan/movie/detail?movieid=".concat(t)).then((function(t){i.changeMovieDetail(t.data),i.$router.push({path:"/videoDetail"}),i.$emit("my-click",!0)})).catch((function(t){console.log(t,"获取失败")}))}}),mounted:function(){var t=this,i=this.hopeList;i.forEach((function(i){t.dateList.push(i.comingTitle.split(" ")[0])}))}},u=l,d=(e("45ff"),e("2877")),h=Object(d["a"])(u,s,a,!1,null,"14a3ea3c",null),f=h.exports,m=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"moreHope"},[e("nav",{staticClass:"more_list"},[e("ul",t._l(t.moreList,(function(i){return e("li",{key:i.id,on:{click:function(e){return t.getItem(i.id)}}},[e("div",{staticClass:"more_date"},[t._v(t._s(i.comingTitle))]),e("div",{staticClass:"more_video"},[e("div",{staticClass:"img_box"},[e("img",{attrs:{src:i.img.replace(/\/w\.h/,""),alt:""}})]),e("div",{staticClass:"more_content"},[e("div",{staticClass:"more_tit"},[t._v(t._s(i.nm))]),e("div",{staticClass:"more_wish"},[e("span",[t._v(t._s(i.wish))]),t._v("人想看 ")]),e("div",{staticClass:"more_star"},[t._v("主演:"+t._s(i.star))]),e("div",{staticClass:"more_upshow"},[t._v(t._s(i.rt)+" 上映")])]),e("div",{staticClass:"more_btn"},[i.showStateButton?e("button",{style:"box-shadow:0 0 10px 2px "+i.showStateButton.shadowColor+";color:white;background:"+i.showStateButton.color+";"},[t._v(" "+t._s(i.showStateButton.content)+" ")]):t._e(),i.showStateButton?t._e():e("button",[t._v("想看")])])])])})),0)]),t.isLoading?e("div",{staticClass:"fixed_loading"},[e("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}})]):t._e()])},v=[],g={name:"MoreHope",props:{moreList:{type:Array},isLoading:Boolean},methods:Object(c["a"])(Object(c["a"])({},Object(r["b"])(["changeMovieDetail"])),{},{getItem:function(t){var i=this;this.$emit("my-click",!0),this.axios.get("https://apis.netstart.cn/maoyan/movie/detail?movieid=".concat(t)).then((function(t){i.changeMovieDetail(t.data),i.$router.push({path:"/videoDetail"}),i.$emit("my-click",!0)})).catch((function(t){console.log("获取失败")}))}})},p=g,b=(e("0b5c"),Object(d["a"])(p,m,v,!1,null,"61e59e53",null)),_=b.exports,x={name:"Daiying",data:function(){return{hopeList:[],moreList:[],movieIds:[],num:0,num2:2,value:"",throt:null,firstLoading:!1,isLoading:!1,loading:!1}},components:{HopeVideo:f,MoreHope:_},methods:{myRev:function(t){this.loading=t},myThrot:function(){var t=this;null!==this.throt&&clearTimeout(this.throt),this.throt=setTimeout((function(){t.bottomRef()}),300)},bottomRef:function(t){var i=this,e=window.scrollY,n=window.innerHeight,o=document.body.clientHeight;if(e+n>=o){this.isLoading=!0;var s=[];this.num=this.moreList.length;for(var a=0;a<this.movieIds.length;a++){if(this.num++,s.push(this.movieIds[this.num]),this.num>this.movieIds.length)return;if(this.num>=10*this.num2)return this.num2+=1,this.value=s.join(),void this.axios.get("https://apis.netstart.cn/maoyan/index/moreComingList?ci=1&limit=10&movieIds=".concat(this.value)).then((function(t){i.moreList=i.moreList.concat(t.data.coming),i.isLoading=!1})).catch((function(t){console.log(t,"获取失败")}))}}}},mounted:function(){var t=this;this.firstLoading=!0,this.axios.get("https://apis.netstart.cn/maoyan/index/mostExpected?ci=1&limit=10&offset=0").then((function(i){t.hopeList=i.data.coming,t.firstLoading=!1})).catch((function(t){console.log("获取失败")})),this.axios.get("https://apis.netstart.cn/maoyan/index/comingList?ci=1&limit=10").then((function(i){t.moreList=i.data.coming,t.movieIds=i.data.movieIds})).catch((function(t){console.log("获取失败")}))},beforeRouteEnter:function(t,i,e){e((function(i){"DaiYing"==t.name&&window.addEventListener("scroll",i.myThrot)}))}},L=x,y=(e("dfc6"),Object(d["a"])(L,n,o,!1,null,"ffebc554",null));i["default"]=y.exports},"0b5c":function(t,i,e){"use strict";e("311e")},1276:function(t,i,e){"use strict";var n=e("2ba4"),o=e("c65b"),s=e("e330"),a=e("d784"),c=e("44e7"),r=e("825a"),l=e("1d80"),u=e("4840"),d=e("8aa5"),h=e("50c4"),f=e("577e"),m=e("dc4a"),v=e("4dae"),g=e("14c3"),p=e("9263"),b=e("9f7f"),_=e("d039"),x=b.UNSUPPORTED_Y,L=4294967295,y=Math.min,w=[].push,C=s(/./.exec),I=s(w),k=s("".slice),j=!_((function(){var t=/(?:)/,i=t.exec;t.exec=function(){return i.apply(this,arguments)};var e="ab".split(t);return 2!==e.length||"a"!==e[0]||"b"!==e[1]}));a("split",(function(t,i,e){var s;return s="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,e){var s=f(l(this)),a=void 0===e?L:e>>>0;if(0===a)return[];if(void 0===t)return[s];if(!c(t))return o(i,s,t,a);var r,u,d,h=[],m=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,b=new RegExp(t.source,m+"g");while(r=o(p,b,s)){if(u=b.lastIndex,u>g&&(I(h,k(s,g,r.index)),r.length>1&&r.index<s.length&&n(w,h,v(r,1)),d=r[0].length,g=u,h.length>=a))break;b.lastIndex===r.index&&b.lastIndex++}return g===s.length?!d&&C(b,"")||I(h,""):I(h,k(s,g)),h.length>a?v(h,0,a):h}:"0".split(void 0,0).length?function(t,e){return void 0===t&&0===e?[]:o(i,this,t,e)}:i,[function(i,e){var n=l(this),a=void 0==i?void 0:m(i,t);return a?o(a,i,n,e):o(s,f(n),i,e)},function(t,n){var o=r(this),a=f(t),c=e(s,o,a,n,s!==i);if(c.done)return c.value;var l=u(o,RegExp),m=o.unicode,v=(o.ignoreCase?"i":"")+(o.multiline?"m":"")+(o.unicode?"u":"")+(x?"g":"y"),p=new l(x?"^(?:"+o.source+")":o,v),b=void 0===n?L:n>>>0;if(0===b)return[];if(0===a.length)return null===g(p,a)?[a]:[];var _=0,w=0,C=[];while(w<a.length){p.lastIndex=x?0:w;var j,E=g(p,x?k(a,w):a);if(null===E||(j=y(h(p.lastIndex+(x?w:0)),a.length))===_)w=d(a,w,m);else{if(I(C,k(a,_,w)),C.length===b)return C;for(var R=1;R<=E.length-1;R++)if(I(C,E[R]),C.length===b)return C;w=_=j}}return I(C,k(a,_)),C}]}),!j,x)},"311e":function(t,i,e){},"44e7":function(t,i,e){var n=e("861d"),o=e("c6b6"),s=e("b622"),a=s("match");t.exports=function(t){var i;return n(t)&&(void 0!==(i=t[a])?!!i:"RegExp"==o(t))}},"45ff":function(t,i,e){"use strict";e("c148")},"99af":function(t,i,e){"use strict";var n=e("23e7"),o=e("da84"),s=e("d039"),a=e("e8b5"),c=e("861d"),r=e("7b0b"),l=e("07fa"),u=e("8418"),d=e("65f0"),h=e("1dde"),f=e("b622"),m=e("2d00"),v=f("isConcatSpreadable"),g=9007199254740991,p="Maximum allowed index exceeded",b=o.TypeError,_=m>=51||!s((function(){var t=[];return t[v]=!1,t.concat()[0]!==t})),x=h("concat"),L=function(t){if(!c(t))return!1;var i=t[v];return void 0!==i?!!i:a(t)},y=!_||!x;n({target:"Array",proto:!0,forced:y},{concat:function(t){var i,e,n,o,s,a=r(this),c=d(a,0),h=0;for(i=-1,n=arguments.length;i<n;i++)if(s=-1===i?a:arguments[i],L(s)){if(o=l(s),h+o>g)throw b(p);for(e=0;e<o;e++,h++)e in s&&u(c,h,s[e])}else{if(h>=g)throw b(p);u(c,h++,s)}return c.length=h,c}})},a15b:function(t,i,e){"use strict";var n=e("23e7"),o=e("e330"),s=e("44ad"),a=e("fc6a"),c=e("a640"),r=o([].join),l=s!=Object,u=c("join",",");n({target:"Array",proto:!0,forced:l||!u},{join:function(t){return r(a(this),void 0===t?",":t)}})},b0c0:function(t,i,e){var n=e("83ab"),o=e("5e77").EXISTS,s=e("e330"),a=e("9bf2").f,c=Function.prototype,r=s(c.toString),l=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=s(l.exec),d="name";n&&!o&&a(c,d,{configurable:!0,get:function(){try{return u(l,r(this))[1]}catch(t){return""}}})},b5f8:function(t,i,e){},c148:function(t,i,e){},dfc6:function(t,i,e){"use strict";e("b5f8")}}]);
//# sourceMappingURL=chunk-6273f7d5.59ac8a16.js.map