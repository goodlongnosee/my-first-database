(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-350bac74"],{"1fbf":function(t,i,o){"use strict";o("3c78")},"3c78":function(t,i,o){},"894a":function(t,i,o){"use strict";o.r(i);var n=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{ref:"con",staticClass:"hotvideo"},[o("good-video",{attrs:{isLoading:t.isLoading,goodList:t.goodList}}),o("video-list",{attrs:{fixLoading:t.fixLoading,isLoading:t.isLoading,videoList:t.videoList}})],1)},s=[],e=(o("a15b"),o("99af"),o("b0c0"),function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("nav",{staticClass:"goodList"},[t.isLoading?t._e():o("div",{staticClass:"loading"},[o("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/oc9Y8A.gif",alt:""}})]),o("h3",[t._v(t._s(t.goodList.title))]),t.isLoading?o("ul",t._l(t.goodList.movieList,(function(i){return o("li",{key:i.movieId,on:{click:function(o){return t.getItem(i.movieId)}}},[o("div",{staticClass:"img_box"},[o("img",{attrs:{src:i.poster,alt:""}}),o("i",[t._v("观众评分 "+t._s(i.score))])]),o("div",{staticClass:"video_name"},[t._v(" "+t._s(i.name)+" ")])])})),0):t._e(),t.jump?o("div",{staticClass:"loading_img"},[o("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}})]):t._e()])}),a=[],c=o("5530"),r=o("2f62"),d={name:"GoodVideo",props:{goodList:{type:Object},isLoading:{type:Boolean}},data:function(){return{jump:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(r["b"])(["changeMovieDetail"])),{},{getItem:function(t){var i=this;this.jump=!0,this.axios.get("https://apis.netstart.cn/maoyan/movie/detail?movieid=".concat(t)).then((function(t){i.changeMovieDetail(t.data),i.$router.push({path:"/videoDetail"}),i.jump=!1})).catch((function(t){console.log("获取失败")}))}})},u=d,h=(o("1fbf"),o("2877")),l=Object(h["a"])(u,e,a,!1,null,"e0e245de",null),m=l.exports,g=function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("nav",{staticClass:"videoList"},[t.jumpLoading?o("div",{staticClass:"jump"},[o("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}})]):t._e(),t.isLoading?t._e():o("div",{staticClass:"loading"},[o("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/oc9Y8A.gif",alt:""}})]),t.isLoading?o("ul",t._l(t.videoList,(function(i){return o("li",{key:i.id,on:{click:function(o){return t.getItem(i.id)}}},[t._m(0,!0),o("div",{staticClass:"video_msg"},[o("div",{staticClass:"video_title"},[t._v(t._s(i.nm))]),i.sc?o("div",{staticClass:"scode"},[t._v(" 观众评 "),o("span",[t._v(t._s(i.sc))])]):t._e(),i.sc?t._e():o("div",{staticClass:"no"},[t._v("暂无评分")]),0==i.sc?o("div",{staticClass:"wish"},[o("span",[t._v(t._s(i.wish))]),t._v(" 人想看 ")]):t._e(),i.star?o("div",{staticClass:"star"},[t._v("主演:"+t._s(i.star))]):t._e(),i.showInfo?o("div",{staticClass:"showinfo"},[t._v(t._s(i.showInfo))]):t._e(),o("div",{staticClass:"button"},[o("button",{style:"box-shadow:0 0 2px 2px "+i.showStateButton.shadowColor+";background:"+i.showStateButton.color+";color:white",on:{click:function(o){return o.stopPropagation(),t.BuyTicket(i.id)}}},[t._v(" "+t._s(i.showStateButton.content)+" ")])])])])})),0):t._e(),t.fixLoading?o("div",{staticClass:"fixLoading"},[o("img",{attrs:{src:"https://s4.ax1x.com/2021/12/07/ocZHRU.gif",alt:""}})]):t._e()])},f=[function(){var t=this,i=t.$createElement,o=t._self._c||i;return o("div",{staticClass:"img_box"},[o("img",{attrs:{src:"https://img0.baidu.com/it/u=3347450064,1264909238&fm=26&fmt=auto",alt:""}})])}],v={name:"videoList",props:{videoList:Array,isLoading:Boolean,fixLoading:Boolean},data:function(){return{jumpLoading:!1}},methods:Object(c["a"])(Object(c["a"])({},Object(r["b"])(["changeMovieDetail","changeUserInfo","changeBuyTicket","changeTicketDate"])),{},{BuyTicket:function(t){var i=this;this.axios.get("https://apis.netstart.cn/maoyan/movie/intro?movieid=".concat(t)).then((function(t){i.changeBuyTicket(t.data.data.movie)})).catch((function(t){console.log(t)})),this.axios.get("https://apis.netstart.cn/maoyan/movie/showdays?movieId=".concat(t,"&cityId=20")).then((function(t){i.changeTicketDate(t.data.data.dates)})).catch((function(t){console.log("获取失败",t)})),this.$router.push({path:"/BuyTicket"})},getItem:function(t){var i=this;this.jumpLoading=!0,this.axios.get("https://apis.netstart.cn/maoyan/movie/detail?movieid=".concat(t)).then((function(t){i.changeMovieDetail(t.data),i.$router.push({path:"/videoDetail"}),i.jumpLoading=!1})).catch((function(t){console.log("获取失败")}))}}),computed:Object(c["a"])({},Object(r["c"])(["userInfo"])),mounted:function(){var t=localStorage.getItem("userInfo");t&&this.changeUserInfo(t)}},p=v,L=(o("ad57"),Object(h["a"])(p,g,f,!1,null,"8c2ff6ac",null)),_=L.exports,b={name:"hotVideo",components:{GoodVideo:m,VideoList:_},data:function(){return{goodList:{},videoList:[],conHeight:0,num2:0,num3:2,moreArr:[],isLoading:!1,fixLoading:!1,throt:null}},methods:{myThrot:function(){var t=this;null!==this.throt&&clearTimeout(this.throt),this.throt=setTimeout((function(){t.bottomRef()}),500)},bottomRef:function(t){var i=this,o=window.scrollY,n=window.innerHeight,s=document.body.clientHeight;if(o+n>=s){this.num2=this.videoList.length;for(var e=[],a=0;a<this.moreArr.length;a++){if(this.num2++,e.push(this.moreArr[this.num2]),this.num2>this.moreArr.length)return;if(this.num2>=10*this.num3)return this.num2=10*this.num3,this.num3+=1,this.fixLoading=!0,void this.axios.get("https://apis.netstart.cn/maoyan/index/moreComingList?movieIds=".concat(e.join())).then((function(t){i.videoList=i.videoList.concat(t.data.coming),i.fixLoading=!1})).catch((function(t){console.log("获取失败")}))}}}},mounted:function(){var t=this;this.axios.get("https://apis.netstart.cn/maoyan/index/topRatedMovies").then((function(i){t.goodList=i.data,t.isLoading=!0})).catch((function(i){console.log("获取失败"),t.isLoading=!1})),this.axios.get("https://apis.netstart.cn/maoyan/index/movieOnInfoList").then((function(i){t.videoList=i.data.movieList,t.moreArr=i.data.movieIds})).catch((function(t){console.log("获取失败")}))},beforeRouteEnter:function(t,i,o){o((function(i){"HotVideo"==t.name&&window.addEventListener("scroll",i.myThrot)}))}},x=b,y=Object(h["a"])(x,n,s,!1,null,null,null);i["default"]=y.exports},a2e1:function(t,i,o){},ad57:function(t,i,o){"use strict";o("a2e1")},b0c0:function(t,i,o){var n=o("83ab"),s=o("5e77").EXISTS,e=o("e330"),a=o("9bf2").f,c=Function.prototype,r=e(c.toString),d=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,u=e(d.exec),h="name";n&&!s&&a(c,h,{configurable:!0,get:function(){try{return u(d,r(this))[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-350bac74.6cac6067.js.map