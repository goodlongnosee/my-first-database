{"version":3,"sources":["webpack:///./src/pages/yingyuan.vue?c069","webpack:///src/pages/yingyuan.vue","webpack:///./src/pages/yingyuan.vue?6259","webpack:///./src/pages/yingyuan.vue","webpack:///./src/pages/yingyuan.vue?b6ab","webpack:///./node_modules/core-js/modules/es.function.name.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","_v","_e","isFirst","_m","_l","item","key","cinemaId","on","$event","getCityId","_s","title","price","n","q","location","index","Date","getTime","text","discount","card","staticRenderFns","name","data","limit","cinemaList","throt","fixedLoading","methods","myThrot","clearTimeout","setTimeout","bottomRef","scrollTop","windowHeight","listHeight","getList","axios","mounted","beforeRouteEnter","next","to","window","addEventListener","vm","component","DESCRIPTORS","FUNCTION_NAME_EXISTS","EXISTS","uncurryThis","defineProperty","f","FunctionPrototype","Function","prototype","functionToString","toString","nameRE","regExpExec","exec","NAME","configurable","get","error"],"mappings":"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","file":"js/chunk-362ab6e6.fb958156.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yingyuan\"},[(_vm.isFirst)?_c('div',{staticClass:\"first_loading\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\",\"alt\":\"\"}}),_c('span',[_vm._v(\"正在加载中...\")])]):_vm._e(),(!_vm.isFirst)?_c('div',{staticClass:\"screen_box\"},[_vm._m(0)]):_vm._e(),(!_vm.isFirst)?_c('div',{staticClass:\"cinema_list\"},[_c('ul',_vm._l((_vm.cinemaList),function(item){return _c('li',{key:item.cinemaId,on:{\"click\":function($event){return _vm.getCityId(item.cinemaId)}}},[_c('div',{staticClass:\"cinema_nm\"},[_c('p',{staticClass:\"tit\"},[_vm._v(_vm._s(item.title))]),_c('a',[_c('span',[_vm._v(_vm._s(item.price.n))]),_c('i',[_vm._v(\" \"+_vm._s(item.price.q))])])]),_c('div',{staticClass:\"cinema_address\"},[_vm._v(\" \"+_vm._s(item.location)+\" \")]),_c('div',{staticClass:\"cinema_charact\"},[_c('ol',_vm._l((item.services),function(item,index){return _c('li',{key:index + new Date().getTime()},[_vm._v(\" \"+_vm._s(item.text)+\" \")])}),0)]),(item.discount[0])?_c('div',{staticClass:\"cinema_discount\"},[_c('img',{attrs:{\"src\":item.discount[0].card,\"alt\":\"\"}}),_c('span',[_vm._v(_vm._s(item.discount[0].text))])]):_vm._e()])}),0)]):_vm._e(),(_vm.fixedLoading)?_c('div',{staticClass:\"fixedLoading\"},[_c('img',{attrs:{\"src\":\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\",\"alt\":\"\"}})]):_vm._e()])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',{staticClass:\"active\"},[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"全城\"),_c('span')])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"品牌\"),_c('span')])]),_c('li',[_c('a',{attrs:{\"href\":\"#\"}},[_vm._v(\"特色\"),_c('span')])])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"yingyuan\">\r\n    <div v-if=\"isFirst\" class=\"first_loading\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\" alt=\"\" />\r\n      <span>正在加载中...</span>\r\n    </div>\r\n    <div v-if=\"!isFirst\" class=\"screen_box\">\r\n      <ul>\r\n        <li class=\"active\">\r\n          <a href=\"#\">全城<span></span></a>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\">品牌<span></span></a>\r\n        </li>\r\n        <li>\r\n          <a href=\"#\">特色<span></span></a>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div v-if=\"!isFirst\" class=\"cinema_list\">\r\n      <ul>\r\n        <li v-for=\"item in cinemaList\" :key=\"item.cinemaId\" @click=\"getCityId(item.cinemaId)\">\r\n          <div class=\"cinema_nm\">\r\n            <p class=\"tit\">{{ item.title }}</p>\r\n            <a\r\n              ><span>{{ item.price.n }}</span\r\n              ><i> {{ item.price.q }}</i></a\r\n            >\r\n          </div>\r\n          <div class=\"cinema_address\">\r\n            {{ item.location }}\r\n          </div>\r\n          <div class=\"cinema_charact\">\r\n            <ol>\r\n              <li\r\n                v-for=\"(item, index) in item.services\"\r\n                :key=\"index + new Date().getTime()\"\r\n              >\r\n                {{ item.text }}\r\n              </li>\r\n            </ol>\r\n          </div>\r\n          <div v-if=\"item.discount[0]\" class=\"cinema_discount\">\r\n            <img :src=\"item.discount[0].card\" alt=\"\" />\r\n            <span>{{ item.discount[0].text }}</span>\r\n          </div>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n    <div v-if=\"fixedLoading\" class=\"fixedLoading\">\r\n      <img src=\"https://s4.ax1x.com/2021/12/07/ocZHRU.gif\" alt=\"\" />\r\n    </div>\r\n    <!-- <div class=\"screen_list\">\r\n\r\n    </div> -->\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: \"Yingyuan\",\r\n  data() {\r\n    return {\r\n      isFirst: false,\r\n      limit: 0,\r\n      cinemaList: [],\r\n      throt: null,\r\n      fixedLoading: false,\r\n    };\r\n  },\r\n  methods: {\r\n    myThrot() {\r\n      if (this.throt !== null) {\r\n        clearTimeout(this.throt);\r\n      }\r\n      this.throt = setTimeout(() => {\r\n        this.bottomRef();\r\n      }, 300);\r\n    },\r\n    bottomRef(e) {\r\n      let scrollTop = window.scrollY;\r\n      let windowHeight = window.innerHeight;\r\n      let listHeight = document.body.clientHeight;\r\n      // console.log(scrollTop + windowHeight + \"==\" + listHeight);\r\n      if (scrollTop + windowHeight == listHeight) {\r\n        this.fixedLoading = true;\r\n        this.getList();\r\n      }\r\n    },\r\n    getList() {\r\n      this.limit += 1;\r\n      this.axios\r\n        .get(`https://apis.netstart.cn/maoyan/index/moreCinemas?limit=${this.limit * 10}`)\r\n        .then((res) => {\r\n            // console.log(res.data);\r\n          this.cinemaList = res.data;\r\n          this.isFirst = false;\r\n          this.fixedLoading = false;\r\n        })\r\n        .catch((err) => {\r\n          console.log(\"获取失败\", err);\r\n        });\r\n    },\r\n    getCityId(Id){\r\n        console.log(\"无接口,影院Id=>\",Id)\r\n    }\r\n  },\r\n  mounted() {\r\n    this.isFirst = true;\r\n    this.getList();\r\n  },\r\n  beforeRouteEnter(to, from, next) {\r\n    next((vm) => {\r\n      if (to.name == \"Yingyuan\") {\r\n        window.addEventListener(\"scroll\", vm.myThrot);\r\n      }\r\n    });\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.yingyuan {\r\n  width: 100%;\r\n  .first_loading {\r\n    width: 100%;\r\n    font-size: 15px;\r\n    color: #797979;\r\n    height: 40px;\r\n    line-height: 40px;\r\n    text-align: center;\r\n    span {\r\n      vertical-align: middle;\r\n    }\r\n    img {\r\n      width: 20px;\r\n      vertical-align: middle;\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .screen_box {\r\n    width: 100%;\r\n    border-bottom: 1px solid #ccc;\r\n    ul {\r\n      width: 100%;\r\n      display: flex;\r\n      justify-content: space-around;\r\n      li {\r\n        flex-wrap: 1;\r\n        flex-shrink: 0;\r\n        flex-basis: 33.33%;\r\n        padding: 7px 0;\r\n        &.active {\r\n          span {\r\n            transform: rotate(180deg);\r\n            top: 3px;\r\n            border-top: 5px solid #f00;\r\n          }\r\n          a {\r\n            color: #f00;\r\n          }\r\n        }\r\n        a {\r\n          font-size: 15px;\r\n          display: block;\r\n          width: 100%;\r\n          text-align: center;\r\n          position: relative;\r\n          color: #909090;\r\n          span {\r\n            display: block;\r\n            width: 0;\r\n            height: 0;\r\n            border: 5px solid transparent;\r\n            border-top: 5px solid #909090;\r\n            position: absolute;\r\n            right: 28px;\r\n            top: 10px;\r\n          }\r\n        }\r\n        &:nth-of-type(2) {\r\n          a {\r\n            border-left: 1px solid #ccc;\r\n            border-right: 1px solid #ccc;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .cinema_list {\r\n    width: 100%;\r\n    padding-bottom: 60px;\r\n    ul {\r\n      width: 100%;\r\n      padding: 0 15px;\r\n      box-sizing: border-box;\r\n      > li {\r\n        width: 100%;\r\n        box-sizing: border-box;\r\n        border-bottom: 1px solid #ccc;\r\n        font-size: 14px;\r\n        padding-top: 8px;\r\n        .cinema_nm {\r\n          font-size: 18px;\r\n          width: 100%;\r\n          position: relative;\r\n          text-overflow: ellipsis;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          .tit {\r\n            max-width: 80%;\r\n            text-overflow: ellipsis;\r\n            overflow: hidden;\r\n            white-space: nowrap;\r\n            display: inline-block;\r\n            margin-right: 10px;\r\n            vertical-align: middle;\r\n          }\r\n          a {\r\n            vertical-align: middle;\r\n            span {\r\n              color: #f00;\r\n            }\r\n            i {\r\n              color: #f00;\r\n              font-size: 14px;\r\n            }\r\n          }\r\n        }\r\n        .cinema_address {\r\n          margin: 5px 0;\r\n          width: 95%;\r\n          text-overflow: ellipsis;\r\n          overflow: hidden;\r\n          white-space: nowrap;\r\n          color: #606060;\r\n        }\r\n        .cinema_charact {\r\n          margin-bottom: 5px;\r\n          width: 95%;\r\n          ol {\r\n            display: flex;\r\n            flex-wrap: wrap;\r\n            li {\r\n              flex-shrink: 0;\r\n              border: 1px solid darkorange;\r\n              padding: 1px 2px;\r\n              border-radius: 3px;\r\n              margin: 0 5px 5px 0;\r\n              color: darkorange;\r\n            }\r\n          }\r\n        }\r\n        .cinema_discount {\r\n          color: #606060;\r\n          padding-bottom: 12px;\r\n          img {\r\n            width: 20px;\r\n            margin-right: 3px;\r\n            vertical-align: middle;\r\n          }\r\n          span {\r\n            color: #707070;\r\n            vertical-align: middle;\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .fixedLoading {\r\n    width: 30px;\r\n    height: 30px;\r\n    position: fixed;\r\n    bottom: 70px;\r\n    left: 50%;\r\n    margin-left: -15px;\r\n    img {\r\n      width: 100%;\r\n    }\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yingyuan.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yingyuan.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./yingyuan.vue?vue&type=template&id=08f5fb0e&scoped=true&\"\nimport script from \"./yingyuan.vue?vue&type=script&lang=js&\"\nexport * from \"./yingyuan.vue?vue&type=script&lang=js&\"\nimport style0 from \"./yingyuan.vue?vue&type=style&index=0&id=08f5fb0e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08f5fb0e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./yingyuan.vue?vue&type=style&index=0&id=08f5fb0e&lang=less&scoped=true&\"","var DESCRIPTORS = require('../internals/descriptors');\nvar FUNCTION_NAME_EXISTS = require('../internals/function-name').EXISTS;\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar defineProperty = require('../internals/object-define-property').f;\n\nvar FunctionPrototype = Function.prototype;\nvar functionToString = uncurryThis(FunctionPrototype.toString);\nvar nameRE = /function\\b(?:\\s|\\/\\*[\\S\\s]*?\\*\\/|\\/\\/[^\\n\\r]*[\\n\\r]+)*([^\\s(/]*)/;\nvar regExpExec = uncurryThis(nameRE.exec);\nvar NAME = 'name';\n\n// Function instances `.name` property\n// https://tc39.es/ecma262/#sec-function-instances-name\nif (DESCRIPTORS && !FUNCTION_NAME_EXISTS) {\n  defineProperty(FunctionPrototype, NAME, {\n    configurable: true,\n    get: function () {\n      try {\n        return regExpExec(nameRE, functionToString(this))[1];\n      } catch (error) {\n        return '';\n      }\n    }\n  });\n}\n"],"sourceRoot":""}